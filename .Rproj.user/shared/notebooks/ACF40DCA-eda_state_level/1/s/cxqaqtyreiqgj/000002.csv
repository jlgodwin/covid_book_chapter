"0",""
"0","translate_state <- function(x, reverse = FALSE){"
"0","    state_vec <- c(datasets::state.name, ""District of Columbia"")"
"0","    names(state_vec) <- c(datasets::state.abb, ""DC"")"
"0",""
"0","    if(reverse){"
"0","        state_vec <- c(datasets::state.abb, ""DC"")"
"0","        names(state_vec) <- c(datasets::state.name, ""District of Columbia"")"
"0","    }"
"0",""
"0","    state_vec[x]"
"0","}"
"0",""
"0","focus_states <- c(""Washington"", ""Oregon"", ""Pennsylvania"", ""New York"")"
"0",""
"0","focus_groups <- c("
"0","    ""Hispanic"", ""Non-Hispanic Asian"", ""Non-Hispanic Black"", ""Non-Hispanic White"""
"0","    )"
"0",""
"0","focus_df <- epi_df %>%"
"0","    filter(State %in% focus_states)"
"0",""
"0","agg_df <- epi_df %>%"
"0","    group_by(State) %>%"
"0","    summarise("
"0","        plus65 = sum((as.numeric(Age) >= 8)*Population)/sum(Population),"
"0","        Population = sum(Population), "
"0","        COVID = sum(COVID),"
"0","        PI_COVID = sum(PI_COVID),"
"0","        .groups = ""drop"""
"0","        ) %>%"
"0","    mutate(CCMR = COVID/Population*100000) %>%"
"0","    mutate(CPICMR = PI_COVID/Population*100000)"
"0","    "
"0",""
